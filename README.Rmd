---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# tscv

<!-- badges: start -->
<!-- badges: end -->

The package tscv provides a collection of functions and utilities for time series cross validation and tidy time series forecasting based on the tidyverts (tsibble, fable and fabletools).

## Installation

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("ahaeusser/tscv")
```
## Example

This is a basic example which shows you how to solve a common problem:

```{r packages, message=FALSE}
# Load relevant packages
library(tscv)
library(tidyverse)
library(tsibble)
library(fable)
```

The dataset `elec_price` is a hourly "tsibble" with day-ahead electricity spot prices from the ENTSO-E Transparency Platform. The dataset contains time series data from 2019-01-01 00:00:00 to 2019-12-31 23:00:00 for five bidding zones within europe. We can use the function `clean_data` to prepare the dataset for further usage:

```{r clean data}
data <- elec_price %>% 
  clean_data()

data

plot_ts(data)
```

To prepare the dataset for time series cross-validation, we can use the function `split_data`:

```{r split data}
mode <- "slide"
n_init <- 2400
n_step <- 24
n_ahead <- 24

data <- data %>%
  split_data(
    mode = mode,
    n_init = n_init,
    n_step = n_step,
    n_ahead = n_ahead
    )

data
```


